(function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)a=s[u],o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},a={app:0},o={app:0},r=[];function s(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"51588f41"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var i="css/"+({about:"about"}[e]||e)+"."+{about:"2f4deaba"}[e]+".css",o=c.p+i,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===i||u===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete a[e],p.parentNode.removeChild(p),n(r)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var i=o[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,n){i=o[e]=[t,n]}));t.push(i[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e),l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");r.type=i,r.request=a,n[1](r)}o[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"06f2":function(e,t,n){"use strict";var i=n("7627"),a=n.n(i);n.d(t,"default",(function(){return a.a}))},"09cf":function(e,t,n){"use strict";var i=n("e8ac"),a=n.n(i);n.d(t,"default",(function(){return a.a}))},1:function(e,t){},2612:function(e,t,n){e.exports={app:"style_app_3H3QR",nav:"style_nav_3XyWa","router-link-exact-active":"style_router-link-exact-active_3bJqb"}},3447:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1gQJEgAaYvsyvAAABDpJREFUOMvVlW1sU1UYx3/3rmPrNlwLZWMbo0BwIhM2CKsjW5wSZjIXs2jZGpEQZWACMX4aGg2oJH7SYVSiUUSykOFcARMC7IPgGKS81Qlx0A1xNowVujcKd91Y13t7jx92NyqSSPzmSZ7cnJtzfud//+e5zwP/tyHFTzzF1NFLDYPkAzALH7m4S89T/5/Anhew04G7JHG+g40bobAQolHwemHPHs4kDXpZSk1pCz2PyH1sQukcLginU4itW0UERB+IARAREKK2VoiyMuGZw4VHhGZXu5xC8hRTVxK0f8KaNfTs3IkJMAEyoANRoHPTOlruJnPevEjVpQTVZh7y5aTddH9X3/CgRbZql3Nw3dr1bZInB2/Jxg+KlB07CBlQk7HqbrqZXatchFZuprIoi8ezUlFjgq7eMEfb+9ACR7z5Nl9N/UeHewBLtct5Z93a9VRVVZ0zMUg+ixfTZwB1QDPAX6xyYXO+zZIZyexuuYY2PgKSjGlaCi8W5xLIcDl8F5vdcLg8Dkq1y7lSBiASQY+DRgHPinxuF28my5pEw9F21DFl6nu18RF+bO3ANn0aUetzjmqXU4mDcqD5UJrMLHx4vVgM6GS0zXVQsTyT/Sd+B6GD0BFCIPQYQo8BcMzTyQz/1zwANQOjMrm4aWwky+n8G/iKeRHzMlOIjoYmgEKAroGukSSNsyz1Kvah7x+EJgIRALn0PPVnFiqjXL/OkooK0uI8jqr6fbV6DD2mkW1WKJ1xlWULbby55a14qCluKwmeBuqsz5dW9l4JkNV6GUtlJbPLy+kwaWiZT9F5Q0FXI6RPizI3LUzhzBAfbtuOLCdQUFDA6NgwvdLsdv9FzzfxeScDNdnLX8a67R6X31f5RTnC2X1fsvjKMX66NMBqRx66ppKRHObZPBPvvfMuwWCQvLw8Dhx00292kJnUcwhIiAebgPxUq53+a3dIKYHpZSDLMEfycenYbm4NbqZiaTJWfYhXXBsIBoOYzWbaTp2kq9vPzT/7fzv9Q9NeIAkYB2KTYCQRQdcm3ggB0kQSUvt0M1+1RVHNdl6q3UQ4HEYIwcjIMOe8Xs76eq4Ffce3A1ZD6GTWChnwhW93IsnpaFHQNNBU0KKQlBDh9RVNWFICtJ78GYvFgqIofLbrc9HT233i9KF9W/64GrwLmIFkw1ppUrF7wH+8KGNBNYHOPcg6SEYxVVXQY7AgW6Y/dIGdH1/0RzTL4Hgk0t24t6nBUBeL+6/0qcsrfY36oYDXe08ZIOeJV0FKm1CsgikhhXlPrmb+LB/Jowe7/DfGvlWGh9vbWk81AyOAAoSMGDUO0O/X4wbsgHtmzhJH5rxCUtNtIDRGQr3cut5BwO//tcXDG7uaGAISAWEoHQfGjKc66e8/O0gDdUANGB0EfLrOgWc28KlhW6KxZ/KSVAM0BXxoa/qXTiPFrRdx8dDxF6jb88UGx8hVAAAAAElFTkSuQmCC"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("130f");var i=n("2b0e"),a=n("2f62"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s=(n("034f"),n("2877")),c={},l=Object(s["a"])(c,o,r,!1,null,null,null),u=l.exports,d=n("ce5b"),p=n.n(d);i["default"].use(p.a,{});var f=new p.a({user:{id:"Test id"}}),v=(n("c5f6"),n("96cf"),n("3b8d")),h={state:{resolution:3,planes:1,p1:0,p2:0,r1:.1,r2:0,dl:0,db:0,toggle_cam:1,rotateX:!0,is2D:1,contours:!1},getters:{CONE_RESOLUTION:function(e){return e.resolution},CONE_CAMERA:function(e){return e.toggle_cam},CONE_ROTATE:function(e){return e.toggle_cam},CONE_PLANES:function(e){return e.planes},CONE_CONTOURS:function(e){return e.contours},CONE_P1:function(e){return e.p1},CONE_P2:function(e){return e.p2},CONE_R2:function(e){return e.r2},CONE_DL:function(e){return e.dl},CONE_DB:function(e){return e.db},CONE_R1:function(e){return console.log("Start loading fitx with parameters "),e.r1}},actions:{CONE_SETP1:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.state,a=Number(n),i.p1=a;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SETP2:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.state,a=Number(n),i.p2=a;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SETR1:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.state,a=Number(n),i.r1=a;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SETDL:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.state,a=Number(n),i.dl=a;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SETDB:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.state,a=Number(n),i.db=a;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_RESOLUTION_UPDATE:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,a=t.dispatch,o=Number(n),i.resolution=o,e.abrupt("return",a("WS_UPDATE_RESOLUTION",o));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_PLANES_UPDATE:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.state,a=t.dispatch,o=Number(n),!(Math.abs(i.planes-o)>=1)){e.next=5;break}return i.planes=o,e.abrupt("return",a("WS_UPDATE_PLANES",o));case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_CONTOURS_UPDATE:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,a=t.dispatch,o=Boolean(n),i.contours=o,e.abrupt("return",a("WS_UPDATE_CONTOURS",o));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SETCAMERAVIEW:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,a=t.dispatch,o=Number(n),i.toggle_cam=n,e.abrupt("return",a("WS_UPDATE_CAMERAVIEW",o));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SETROTATE:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,a=t.dispatch,o=Boolean(n),i.rotateX=!n,e.abrupt("return",a("WS_UPDATE_ROTATE",o));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_SET2D:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,a=t.dispatch,o=Number(n),i.is2D=!n,e.abrupt("return",a("WS_UPDATE_2D",o));case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),CONE_XMLFITS_UPDATE:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,r,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,i=t.dispatch,a=n.r1,o=n.p1,r=n.p2,s=n.dl,c=n.db,l=String(o)+","+String(r)+","+String(a)+","+String(s)+","+String(c),e.abrupt("return",i("WS_UPDATE_XMLFITS",l));case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},g=n("520e"),m=n("f91f");function _(e){return{createVisualization:function(t){return e.call("vtk.initialize",[t])},createImageVisualization:function(t){return e.call("vtk.image.initialize",[t])},logOut:function(t){return e.call("vtk.initialize.logout",[t])},loadURL:function(){return e.call("vtk.cone.url",[])},resetCamera:function(){return e.call("vtk.camera.reset",[])},getInfo:function(){return e.call("vtk.cone.getinfo",[])},getSessionID:function(){return e.call("vtk.getsession",[])},updateResolution:function(t){return e.call("vtk.cone.resolution.update",[t])},updatePlanes:function(t){return e.call("vtk.cone.planes.update",[t])},updateContours:function(t){return e.call("vtk.cone.contours.update",[t])},updateFits:function(t){return e.call("vtk.cone.fits.update",[t])},changeVisibility:function(t){return e.call("vtk.cone.changevisibility",[t])},changeSelected:function(t){return e.call("vtk.cone.changeselected",[t])},changeOpacity:function(t){return e.call("vtk.cone.changeopacity",[t])},changePalette:function(t){return e.call("vtk.cone.changepalette",[t])},updateFitslocal:function(t){return e.call("vtk.cone.fits.localupdate",[t])},updateCamView:function(t){return e.call("vtk.cone.camview.update",[t])},updateRotateAxis:function(t){return e.call("vtk.cone.rotate.update",[t])},loadImage:function(t){return e.call("vtk.cone.load.image",[t])},updateDim:function(t){return e.call("vtk.cone.dim.update",[t])},loadXMLFITS:function(t){return e.call("vtk.cone.urlfits",[t])},movedLayersRow:function(t){return e.call("vtk.cone.movedlayersrow",[t])},getDataCubeData:function(){return e.call("vtk.cone.loadcubedata",[])},setToken:function(t){return e.call("vtk.initialize.token",[t])}}}var b={VLWBase:_},S=n("3033");g["a"].setSmartConnectClass(m["a"]);var y={state:{client:null,config:null,busy:!1,json:"[{}]",dc_params:[1,10,1,1060],files_params:"[{}]",main_session:"",imageDesc:"",fits_url:"",token:""},getters:{WS_CLIENT:function(e){return e.client},WS_JSON:function(e){return e.json},WS_JSONFILES:function(e){return e.files_params},WS_IMAGEDESC:function(e){return e.imageDesc},WS_MAIN_SESSION:function(e){return e.main_session},WS_MAIN_FITS_URL:function(e){return e.fits_url},WS_PARAMS:function(e){return e.dc_params},WS_CONFIG:function(e){return e.config},WS_BUSY:function(e){return!!e.busy}},mutations:{WS_CLIENT_SET:function(e,t){e.client=t},WS_JSON_SET:function(e,t){e.json=t},WS_JSONFILES_SET:function(e,t){e.files_params=t},WS_IMAGEDESC_SET:function(e,t){e.imageDesc=t},WS_MAIN_SESSION_SET:function(e,t){e.main_session=t},WS_MAIN_FITS_URL_SET:function(e,t){e.fits_url=t,alert(e.fits_url)},WS_CONFIG_SET:function(e,t){e.config=t},WS_BUSY_SET:function(e,t){console.log("BUSY"),e.busy=t}},actions:{WS_MAIN_FITSLOADBYURL:function(e,t){var n=e.state,i=(e.commit,e.dispatch);console.log(t),n.client?n.client.getRemote().VLWBase.updateFits(t).then((function(e){if(!e)return alert("No datacube in VLKB database. Please choose another one");n.client.getRemote().VLWBase.getDataCubeData().then((function(e){return n.dc_params=e,n.dc_params}))})):(console.error("Client still not set"),i("WS_INITIALIZE_SERVER_SHORT",n.token).then((function(){i("WS_MAIN_FITSLOADBYURL",t)})))},WS_UPDATELOCALFITS:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updateFitslocal(t).then((function(e){n.client.getRemote().VLWBase.getDataCubeData().then((function(e){return n.dc_params=e,console.log(n.dc_params),n.dc_params}))}))},WS_CONNECT_SHORT:function(e,t){var n=e.state,i=e.commit,a=e.dispatch,o={application:"cone"};n.fits_url="test_url",n.token=t;var r=n.client;r&&r.isConnected()&&r.disconnect(-1);var s=r;return s||(s=g["a"].newInstance({protocols:b})),s.onBusyChange((function(e){i("WS_BUSY_SET",e)})),s.beginBusy(),s.onConnectionError((function(e){var t=e&&e.response&&e.response.error||"Connection error";console.error(t),console.log(e)})),s.onConnectionClose((function(e){var t=e&&e.response&&e.response.error||"Connection close";console.error(t),console.log(e)})),s.connect(o).then((function(e){Object(S["a"])(e.getConnection().getSession()),i("WS_CLIENT_SET",e),s.endBusy(),a("WS_INITIALIZE_SERVER_SHORT",t),console.log("INITIALISED")})).catch((function(e){console.error(e)}))},WS_CONNECT:function(e,t){var n=e.state,i=e.commit,a=e.dispatch,o={application:"cone"},r=n.client;r&&r.isConnected()&&r.disconnect(-1);var s=r;s||(s=g["a"].newInstance({protocols:b})),s.onBusyChange((function(e){i("WS_BUSY_SET",e)})),s.beginBusy(),s.onConnectionError((function(e){var t=e&&e.response&&e.response.error||"Connection error";console.error(t),console.log(e)})),s.onConnectionClose((function(e){var t=e&&e.response&&e.response.error||"Connection close";console.error(t),console.log(e)})),s.connect(o).then((function(e){Object(S["a"])(e.getConnection().getSession()),i("WS_CLIENT_SET",e),s.endBusy(),a("WS_INITIALIZE_SERVER",t)})).catch((function(e){console.error(e)}))},WS_INITIALIZE_SERVER:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.getSessionID().then((function(e){return n.main_session=e,n.main_session})).then((function(){n.client.getRemote().VLWBase.createImageVisualization(t).then((function(e){return""==e?alert("No files in directory"):(n.files_params=e,n.files_params)}))}))},WS_INITIALIZE_SERVER_SHORT:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.createVisualization(t)},WS_LOADURL:function(e){var t=e.state;t.client&&t.client.getRemote().VLWBase.loadURL().catch(console.error)},WS_LOGOUT:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.logOut(t).catch(console.error)},WS_UPDATE_RESOLUTION:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updateResolution(t).catch(console.error)},WS_UPDATE_PLANES:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updatePlanes(t).catch(console.error)},WS_UPDATE_CONTOURS:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updateContours(t).catch(console.error)},WS_UPDATE_CAMERAVIEW:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updateCamView(t).catch(console.error)},WS_UPDATE_ROTATE:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updateRotateAxis(t).catch(console.error)},WS_UPDATE_2D:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.updateDim(t).catch(console.error)},WS_UPDATE_TOKEN:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.setToken(t).catch(console.error)},WS_FITS_UPDATE:function(e,t){var n=e.state;n.client&&(n.client,n.client.getRemote().VLWBase.updateFits(t).then((function(e){if(!e)return alert("No datacube, the old data would be kept");n.client.getRemote().VLWBase.getDataCubeData().then((function(e){return n.dc_params=e,n.dc_params}))})))},WS_LOADIMAGE:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.loadImage(t)},WS_GETINFO:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.getInfo().then((function(e){return n.imageDesc=e,console.log(e),e}))},WS_MOVELAYERSROW:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.movedLayersRow(t)},WS_CHANGEOPACITY:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.changeOpacity(t)},WS_CHANGEPALETTE:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.changePalette(t)},WS_CHANGESELECTED:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.changeSelected(t)},WS_CHANGEVISIBILITY:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.changeVisibility(t)},WS_UPDATE_XMLFITS:function(e,t){var n=e.state;n.client&&n.client.getRemote().VLWBase.loadXMLFITS(t).then((function(e){return console.log("result "+e),n.json=e,n.json})).then((function(){n.client.getRemote().VLWBase.getInfo().then((function(e){return n.imageDesc=e,console.log(e),e}))}))},WS_RESET_CAMERA:function(e){var t=e.state;t.client&&(console.log("Start"),t.client.getRemote().VLWBase.resetCamera().catch(console.error),console.log("END"))}}};function A(){return new a["a"].Store({modules:{vlw:h,wslink:y},state:{$color:"green"},mutations:{update$color:function(e,t){e.$color=t}}})}var E=A,O=n("8c4f"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"","shrink-on-scroll":"",height:"60",align:"center",justify:"center"},on:{click:function(t){e.overlay=!1}}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.onLogOut}},[e._v(" LogOut ")]),n("v-spacer"),n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({},"v-btn",a,!1),i),[n("v-icon",[e._v(" mdi-settings ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Settings ")]),n("v-card-text",[n("v-switch",{attrs:{label:"Theme"},on:{click:function(t){e.$vuetify.theme.dark=!e.$vuetify.theme.dark}}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1),n("v-progress-linear",{attrs:{active:e.busy,indeterminate:e.busy,absolute:"",bottom:"",height:"10",striped:""}},[n("div",{staticStyle:{color:"White","font-size":"8px"}},[e._v(" "+e._s(e.mes)+" ")])])],1)],1),n("v-navigation-drawer",{attrs:{"mini-variant":e.mini,"hide-overlay":!0,"disable-resize-watcher":!1,"mini-variant-width":"45",permanent:"",app:"",width:350},on:{click:function(t){e.overlay=!1},"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-divider"),n("v-container",{attrs:{fluid:"",align:"center"}},[n("v-list",[n("v-list-item",[n("v-list-item-title",[e._v("VLKB")]),n("v-btn",{staticStyle:{margin:"5px",padding:"12px"},attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[n("v-icon",[e._v("mdi-chevron-left")])],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[e._v(" mdi-database-search ")])],1),n("v-list-item-content",[[n("v-row",{attrs:{justify:"space-around"}},[n("v-col",{attrs:{cols:"auto"}},[n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",a,!1),i),[e._v("Load local")])]}},{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Datacubes available")]),n("v-card-text",[n("v-treeview",{attrs:{active:e.active,items:JSON.parse(e.out_files),open:e.open,dense:"","open-on-click":"","return-object":""},on:{"update:active":function(t){e.active=t},"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var i=t.item;return[i.children?e._e():n("v-icon",{on:{click:function(t){return e.loadFile(i)}}},[e._v(" mdi-file-outline ")])]}}],null,!0)})],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}]),model:{value:e.lfDialog,callback:function(t){e.lfDialog=t},expression:"lfDialog"}})],1)],1)],n("v-list-item-title",[e._v("Coordinates")]),n("v-text-field",{attrs:{label:"glon",value:e.p1,type:"number",max:"360",min:"0"},on:{input:e.setP1}}),n("v-text-field",{attrs:{label:"glat",value:e.p2,type:"number",max:"90",min:"-90"},on:{input:e.setP2}}),n("v-row",{attrs:{align:"right"}},[n("v-col",[n("v-text-field",{attrs:{label:"radius",value:e.r1,type:"number",max:"4",min:"0"},on:{input:e.setR1}})],1),n("v-col",[n("v-text-field",{attrs:{label:"dl",value:e.dl,type:"number",max:"4",min:"0"},on:{input:e.setDl}})],1),n("v-col",[n("v-text-field",{attrs:{label:"db",value:e.db,type:"number",max:"4",min:"0"},on:{input:e.setDb}})],1)],1),n("button",{on:{click:e.getData}},[e._v("Query")])],2)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[e._v(" mdi-magnify ")])],1),n("v-list-item-content",[n("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-data-table",{attrs:{headers:e.headers,items:JSON.parse(e.out_json),search:e.search},on:{"click:row":e.onButtonClick},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.survey))]),n("td",{staticClass:"text-xs-right"},[n("a",{attrs:{href:t.item.url}},[e._v(" "+e._s(t.item.overlap))])])]}}])},[n("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')])],1)],1)],1)],1),n("v-row",{attrs:{align:"left",justify:"center"}},[n("v-col")],1)],1)],1),n("v-main",{class:e.$style.appContent},[n("div",{staticStyle:{position:"relative",width:"100%",height:"100%"},on:{click:function(t){e.overlay=!1}}},[n("v-overlay",{attrs:{absolute:e.absolute,opacity:e.opacity,value:e.overlay}},[e._v(" Please, input Galactic Coordinates on the left panel "),n("v-icon",[e._v(" mdi-database-search ")])],1),n("v-overlay",{attrs:{absolute:e.absolute,opacity:e.opacity,value:e.busy}},[n("v-container",[n("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{active:e.busy,indeterminate:e.busy,size:70,width:7,color:"blue"}},[e._v(" "+e._s(e.mes)+" ")])],1)],1)],1),n("v-card",{attrs:{height:"100%"}},[n("v-navigation-drawer",{attrs:{absolute:"",permanent:"",right:"",width:"350px"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v("Layer stack")]),n("v-data-table",{directives:[{name:"sortable-data-table",rawName:"v-sortable-data-table"}],attrs:{headers:e.headers2,items:e.images,"item-key":"name"},on:{sorted:e.saveOrder},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Layer settings")])]),n("span",{staticClass:"text-h7"},[e._v(e._s(e.editedItem.name))]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",[n("v-slider",{attrs:{"thumb-label":"always",label:"Opacity","hide-details":"",value:e.editedItem.opacity,min:"0",max:"100",step:"5"},on:{input:e.setOpacity},model:{value:e.imOpacity,callback:function(t){e.imOpacity=t},expression:"imOpacity"}}),n("v-switch",{attrs:{label:"Scale Linear"},on:{click:e.setPaletteScale},model:{value:e.paletteScaleLog,callback:function(t){e.paletteScaleLog=t},expression:"paletteScaleLog"}}),n("v-select",{attrs:{items:e.palettes,label:"Palettes"},on:{input:e.setPalette},model:{value:e.imPalette,callback:function(t){e.imPalette=t},expression:"imPalette"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Close ")])],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function(t){var i=t.item;return[i.selected?n("v-icon",{attrs:{color:"blue darken-2"}},[e._v(" mdi-select ")]):e._e(),i.selected?e._e():n("v-icon",{on:{click:function(t){return e.setSelectionOn(i)}}},[e._v(" mdi-select-off ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),i.visibility?n("v-icon",{on:{click:function(t){return e.setVisibilityOff(i)}}},[e._v(" mdi-eye ")]):e._e(),i.visibility?e._e():n("v-icon",{on:{click:function(t){return e.setVisibilityOn(i)}}},[e._v(" mdi-eye-off ")]),e._v(" "+e._s(i.name)+" ")]}}])})],1)],1)],1)],1),n("remote-rendering-view",{attrs:{client:e.client}})],1)])],1)},T=[],N=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("7f7f"),n("57e7"),n("bd86")),C=n("3447"),R=n.n(C),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.container})},L=[],x=(n("28a5"),n("b497"),{name:"RemoteRenderView",props:{viewId:{type:String,default:"-1"},client:{type:Object,default:null}},data:function(){return{connected:!1}},created:function(){this.view=S["b"].newInstance({rpcWheelEvent:"viewport.mouse.zoom.wheel",rpcGestureEvent:"viewport.gesture",rpcMouseEvent:"viewport.mouse.move"}),"localhost"===location.hostname.split(".")[0]&&this.view.setInteractiveRatio(1)},mounted:function(){this.view.setContainer(this.$el),window.addEventListener("resize",this.view.resize),this.connect()},methods:{connect:function(){if(this.client){var e=this.client.getConnection().getSession();this.view.setSession(e),this.view.setViewId(this.viewId),this.connected=!0,this.view.render()}},handleClick:function(e){this.onClick(e)}},watch:{client:function(){this.connect()},viewId:function(e){this.connected&&(this.view.setViewId(e),this.view.render())},enablePicking:function(e){this.view.getInteractorStyle().setSendMouseMove(e)}},beforeDestroy:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),window.removeEventListener("resize",this.view.resize),this.view.delete()}}),k=x,W=n("99fd");function D(e){this["$style"]=W["default"].locals||W["default"]}var P,U,j=Object(s["a"])(k,I,L,!1,D,null,null),B=j.exports,V=(n("3b2b"),n("a481"),n("759f"),n("dd17"));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(N["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n,o,r,s){if(!e)throw new Error("Auth name is required.");if(t!==P.Window&&t!==P.Popup)throw new Error("Only window or popup are valid default signin types.");if(!n)throw new Error("App base url is required.");if(!o)throw new Error("No config provided to oidc auth.");V["Log"].logger=r||console,V["Log"].level=s||U.Error;var c=X(e),l=F({response_type:"id_token",scope:"openid profile",automaticSilentRenew:!0,userStore:new V["WebStorageStateStore"]({store:sessionStorage}),post_logout_redirect_uri:n,redirect_uri:"".concat(n).concat(c),popup_post_logout_redirect_uri:"".concat(n,"auth/signoutpop/").concat(c),popup_redirect_uri:"".concat(n,"auth/signinpop/").concat(c),silent_redirect_uri:"".concat(n).concat(c)},o);V["Log"].debug("Creating new oidc auth as ".concat(e));var u=new V["UserManager"](l),d=!1,p=new i["default"]({store:E,data:function(){return{user:null,myRouter:null,store:null,needs_update:!1}},created:function(){},computed:{appUrl:function(){return n},authName:function(){return e},isAuthenticated:function(){return!!this.user&&!this.user.expired},accessToken:function(){return this.user&&!this.user.expired?this.user.access_token:""},refreshToken:function(){return this.user?this.user.refresh_token:""},needsUpdate:function(){return this.needs_update},userProfile:function(){return this.user&&!this.user.expired?this.user.profile:{iss:"",sub:"",aud:"",exp:0,iat:0}},events:function(){return u.events}},methods:F(F({},Object(a["b"])({updateToken:"WS_UPDATE_TOKEN"})),{},{updateToken2:function(){},resetUpdate:function(){this.needs_update=!1},startup:function(){var t=this,n=!1;return H(l.popup_redirect_uri)?(V["Log"].debug("".concat(e," Popup signin callback")),u.signinPopupCallback(),n=!0):H(l.popup_post_logout_redirect_uri)&&(V["Log"].debug("".concat(e," Popup logout callback")),u.signoutPopupCallback(),n=!0),n?Promise.resolve(!1):d?Promise.resolve(!0):u.getUser().then((function(e){return d=!0,e&&!e.expired&&(t.user=e,console.log("Stat"),console.log(t.user.profile)),!0})).catch((function(e){return V["Log"].warn("Auth startup err = ".concat(e)),!1}))},useRouter:function(i){var a=this;if(this.myRouter=i,i.beforeEach((function(n,i,o){n.matched.some((function(e){return e.meta.authName===a.authName}))?a.isAuthenticated?(V["Log"].debug("".concat(e," auth authenticated user entering protected route ").concat(n.fullPath)),o()):(V["Log"].debug("".concat(e," auth anon user entering protected route ").concat(n.fullPath)),v(t,{state:{to:n}}).then((function(){t===P.Window?o(!1):o()})).catch((function(){return o(!1)}))):o()})),l.redirect_uri){z(l.redirect_uri).substring((i.options.base||"/").length);i.addRoute({path:"/main",name:"signinwin-".concat(c),component:{render:function(e){return e("div")},created:function(){u.signinRedirectCallback().then((function(t){V["Log"].debug("".concat(e," Window signin callback success"),t);var a=t.state?t.state.to:null;i?i.replace(a||"/"):window.location.href=n})).catch((function(t){V["Log"].error("".concat(e," Window signin callback error"),t),i?i.replace("/"):window.location.href=n}))}}})}},signIn:function(e){return v(t,e)},signOut:function(e){if(t===P.Popup){var n=this.myRouter;return u.signoutPopup(e).then((function(){h(n)})).catch((function(){h(n)}))}return u.signoutRedirect(e)},startSilentRenew:function(){u.startSilentRenew()},stopSilentRenew:function(){u.stopSilentRenew()}})});function f(){if(p.myRouter){var n=p.myRouter.currentRoute;n&&n.meta.authName===e&&(V["Log"].debug("".concat(e," auth page re-signin with ").concat(t)),v(t,{state:{current:n}}).then((function(){})).catch((function(){setTimeout(f,5e5)})))}}function v(e,t){switch(e){case P.Popup:return u.signinPopup(t);case P.Silent:return u.signinSilent(t)}return u.signinRedirect(t)}function h(t){if(t){var i=t.currentRoute;if(i&&i.meta.authName===e)return void t.replace("/")}n&&(window.location.href=n)}function g(){u.events.addUserLoaded((function(e){p.user=e})),u.events.addUserUnloaded((function(){p.user=null,V["Log"].debug("".concat(p.authName," auth user unloaded")),f()})),u.events.addAccessTokenExpiring((function(){p.needs_update=!0})),u.events.addAccessTokenExpired((function(){V["Log"].debug("".concat(p.authName," auth token expired, user is authenticated=").concat(p.isAuthenticated)),p.user=null,f()})),u.events.addSilentRenewError((function(e){V["Log"].debug("".concat(p.authName," auth silent renew error ").concat(e)),p.isAuthenticated?setTimeout((function(){V["Log"].debug("".concat(p.authName," auth silent renew retry")),u.signinSilent()}),5e5):f()})),u.events.addUserSignedOut((function(){V["Log"].debug("".concat(p.authName," auth user signed out")),p.user=null,f()}))}return g(),p}function z(e){var t=document.createElement("a");t.href=e;var n=t.pathname;return"/"!==n[0]&&(n="/"+n),n}function H(e){return window.location.pathname.toLocaleLowerCase()===z(e).toLocaleLowerCase()}function X(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="ãàáäâáº½èéëêìíïîõòóöôùúüûñç·/_,:;",n="aaaaaeeeeeiiiiooooouuuunc------",i=0,a=t.length;i<a;i++)e=e.replace(new RegExp(t.charAt(i),"g"),n.charAt(i));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e}(function(e){e[e["Window"]=0]="Window",e[e["Popup"]=1]="Popup"})(P||(P={})),function(e){e[e["None"]=0]="None",e[e["Error"]=1]="Error",e[e["Warn"]=2]="Warn",e[e["Info"]=3]="Info",e[e["Debug"]=4]="Debug"}(U||(U={}));var Z=window.location,Y="".concat(Z.protocol,"//").concat(Z.host).concat("/"),J=G("main",P.Window,Y,{authority:"https://sso.neanias.eu/auth/realms/neanias-production/",client_id:"vlkb",response_type:"code",scope:"openid profile email",client_secret:"b6f98dba-a409-432a-bb21-13b692d86172"},console,U.Debug);i["default"].prototype.$oidc=J;var K=J,Q=n("aa47");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(N["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={name:"App",components:{RemoteRenderingView:B},meta:{authName:K.authName},data:function(){return{headers2:[{text:" ",align:"start",sortable:!1,value:"name"}],palettes:["Default","Default Step","EField","Glow","Gray","MinMax","PhysicsContour","PureRed","PureGreen","PureBlue","Run1","Run2","Sar","Temperature","TenStep","VolRenGlow","VolRenRGB","VolRenRGB","VolRenTwoLev","AllYellow","AllCyane","AllViolet","AllWhite","AllBlack","AllRed","AllGreen","AllBlu"],images:[{name:"Make a query to load image",selected:!0,visibility:!0,opacity:100,palette:"Gray",scale:1,id:0}],imOpacity:100,imPalette:"Gray",paletteScaleLog:!1,editedIndex:-1,editedItem:[{name:"image layer 1",visibility:!0,selected:!1,opacity:100,palette:"Gray",scale:1,id:0}],formTitle:"Default title",dialog:!1,lfDialog:!1,mes:"Loading",overlay:!0,logo:R.a,ex1:{label:"Threshold",val:3,color:"orange darken-3"},ex2:{label:"Cutting planes",val:1,color:"green lighten-1"},ex3:{label:"Lower bound",val:50,color:"red"},ex4:{label:"Level",val:50,color:"red"},drawer:!0,mini:!0,myImage:n("6ba0"),right:null,rtoken:"",singleSelect:!0,selected:[{url:"FOR_INSTANCE"}],search:"",headers:[{text:"Survey/species",value:"survey"},{text:"Desc",value:"overlap"}],items:[],weatherDataList:[]}},computed:$({},Object(a["c"])({client:"WS_CLIENT",busy:"WS_BUSY",resolution:"CONE_RESOLUTION",planes:"CONE_PLANES",contours:"CONE_CONTOURS",p1:"CONE_P1",p2:"CONE_P2",r1:"CONE_R1",r2:"CONE_R2",dl:"CONE_DL",db:"CONE_DB",out_json:"WS_JSON",params:"WS_PARAMS",toggle_cam:"CONE_CAMERA",rotateX:"CONE_ROTATE",is2D:"CONE_2D",out_files:"WS_JSONFILES",fist_image:"WS_IMAGEDESC",main_session:"WS_MAIN_SESSION"})),methods:$($({},Object(a["b"])({setResolution:"CONE_RESOLUTION_UPDATE",setPlanes:"CONE_PLANES_UPDATE",setContours:"CONE_CONTOURS_UPDATE",resetCamera:"WS_RESET_CAMERA",connect:"WS_CONNECT",loadData:"CONE_XMLFITS_UPDATE",loadDataShort:"WS_FITS_UPDATE",keyLogOut:"WS_LOGOUT",updateToken:"WS_UPDATE_TOKEN",setP1:"CONE_SETP1",setP2:"CONE_SETP2",setR1:"CONE_SETR1",setDl:"CONE_SETDL",setDb:"CONE_SETDB",setCameraView:"CONE_SETCAMERAVIEW",setRotate:"CONE_SETROTATE",set2D:"CONE_SET2D",updateFitslocal:"WS_UPDATELOCALFITS",loadImage:"WS_LOADIMAGE",getInfoImage:"WS_GETINFO",movedLayersRow:"WS_MOVELAYERSROW",changeOpacity:"WS_CHANGEOPACITY",changeVisibility:"WS_CHANGEVISIBILITY",changePalette:"WS_CHANGEPALETTE",changeSelection:"WS_CHANGESELECTED"})),{},{addTest:function(){var e=this.images.length-1;this.addImage("Test image"+String(e),"test")},setOpacity:function(){var e=String(this.editedIndex)+","+String(this.imOpacity);console.log("Opacity for ",e),this.images[this.editedIndex].opacity=this.imOpacity,console.log(this.editedIndex," with opacity ",this.images[this.editedIndex].opacity),this.changeOpacity(e)},setPaletteScale:function(){console.log(this.paletteScaleLog),this.images[this.editedIndex].scale=this.paletteScaleLog,this.setPalette()},setPalette:function(){var e=this.images[this.editedIndex].id,t=String("Log");this.paletteScaleLog&&(t=String("Linear"));var n=String(this.editedIndex)+","+String(e)+","+String(this.imPalette)+","+t;this.images[this.editedIndex].palette=this.imPalette,this.changePalette(n)},setVisibilityOn:function(e){this.editedIndex=this.images.indexOf(e),this.editedItem=Object.assign({},e);var t=String(this.editedIndex)+",true";console.log("Visibility for ",t),this.images[this.editedIndex].visibility=!0,this.changeVisibility(t)},setVisibilityOff:function(e){this.editedIndex=this.images.indexOf(e),this.editedItem=Object.assign({},e);var t=String(this.editedIndex)+",false";console.log(" Visibility for ",t),this.images[this.editedIndex].visibility=!1,this.changeVisibility(t)},setSelectionOn:function(e){this.editedIndex=this.images.indexOf(e),this.editedItem=Object.assign({},e);var t=String(this.editedIndex)+",true";console.log("Selection for ",t);for(var n=0;n<this.images.length;n++)this.images[n].selected=!1;this.images[this.editedIndex].selected=!0,this.changeSelection(this.editedIndex)},editItem:function(e){this.formTitle=e.name,this.editedIndex=this.images.indexOf(e),this.editedItem=Object.assign({},e),this.imOpacity=this.images[this.editedIndex].opacity,this.imPalette=this.images[this.editedIndex].palette,this.paletteScaleLog=this.images[this.editedIndex].scale,console.log(this.paletteScaleLog),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.images.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.images.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},onSetCamera:function(){},saveOrder:function(e){var t=this.images.splice(e.oldIndex,1)[0];this.images.splice(e.newIndex,0,t);this.images.length;var n=this.images[e.oldIndex].id,i=this.images[e.newIndex].id;n=e.oldIndex,i=e.newIndex;var a=String(n)+","+String(i)+","+String(i);console.log(a),this.movedLayersRow(a)},gotoOther:function(e){this.$appName="New value",this.$color="session_id";var t="/vlw2?id="+this.main_session+"&local=False&url="+encodeURIComponent(e),n=this.$router.resolve({path:t});window.open(n.href,"_blank")},testFile:function(){if(this.active.length>0){var e=this.active.length-1;console.log("TEST",this.active[e])}},loadFile:function(e){this.lfDialog=!1;var t=e.path+"/"+e.name;console.log(t);var n="/vlw2?id="+this.main_session+"&local=True&url="+encodeURIComponent(t),i=this.$router.resolve({path:n});window.open(i.href,"_blank")},getData:function(){var e=this;this.mini=!this.mini,this.overlay=!1,this.loadData().then((function(t){console.log("GetImageData"),setTimeout(e.setFirstName,1500)}))},setFirstName:function(){""==this.fist_image?setTimeout(this.setFirstName,500):(this.images[0].name=this.fist_image,console.log("Setting image"),console.log(this.fist_image))},addImage:function(e,t){console.log("Images ");var n=this.images.length,i={name:e,visibility:!0,selected:!1,opacity:100,palette:"Gray",scale:!1,id:n};this.images.push(i),console.log(this.images.length),this.loadImage(t)},onLoadToken:function(){var e=this.$oidc.accessToken,t=this.$oidc.authName;console.log("Update token timeout"),console.log(t),this.updateToken(e),this.$oidc.resetUpdate()},onLogOut:function(){this.keyLogOut(this.rtoken),this.$oidc.resetUpdate(),this.$oidc.signOut()},checkToken:function(){var e=this.$oidc.needsUpdate;e&&setTimeout(this.onLoadToken,2500)},onButtonClick:function(e){this.mini=!this.mini;var t=parseInt(e.species);if(console.log(t),0==t){var n=e.survey+" "+e.overlap;this.addImage(n,e.url)}else this.gotoOther(e.url)},hideDialogAndProceed:function(){this.dialog=!1,this.loadData()}}),mounted:function(){var e=this.$oidc.accessToken;this.rtoken=this.$oidc.refreshToken,this.connect(e),setInterval(this.checkToken,1e3)},directives:{sortableDataTable:{bind:function(e,t,n){var i={animation:150,onUpdate:function(e){n.child.$emit("sorted",e)}};Q["a"].create(e.getElementsByTagName("tbody")[0],i)}}}},te=ee,ne=n("06f2");function ie(e){this["$style"]=ne["default"].locals||ne["default"]}var ae=Object(s["a"])(te,w,T,!1,ie,null,null),oe=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"","shrink-on-scroll":"",height:"60",align:"center",justify:"center"},on:{click:function(t){e.overlay=!1}}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.onLogOut}},[e._v(" LogOut ")]),n("v-spacer"),n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.setCameraView},model:{value:e.toggle_cam,callback:function(t){e.toggle_cam=t},expression:"toggle_cam"}},[e._v(" Reset Camera ")]),n("v-container",{staticStyle:{width:"22%"}},[n("div",{staticClass:"d-none d-md-block",staticStyle:{margin:"5px",padding:"0px"}},[n("v-slider",{attrs:{label:e.ex1.label,"thumb-label":"always","hide-details":"",value:e.resolution,max:e.params[1],min:e.params[0],step:.1},on:{input:e.setResolution}})],1),n("div",{staticClass:"d-md-none"},[n("v-text-field",{staticStyle:{margin:"0px",padding:"0px",width:"60px"},attrs:{label:"Threshold",type:"number",value:e.resolution,max:e.params[0],min:e.params[1],step:.1},on:{input:e.setResolution}})],1)]),n("v-container",{staticStyle:{width:"22%"}},[n("div",{staticClass:"d-none d-md-block",staticStyle:{margin:"5px",padding:"0px"}},[n("v-slider",{attrs:{label:e.ex2.label,"thumb-label":"always","hide-details":"",value:e.planes,max:e.params[3],min:e.params[2],step:1},on:{input:e.setPlanes}})],1),n("div",{staticClass:"d-md-none"},[n("v-text-field",{staticClass:"' text-caption text-sm-body-2 text-md-body-1 text-lg-h6'",staticStyle:{margin:"0px",padding:"0px",width:"60px"},attrs:{label:"Cut planes",type:"number",value:e.planes,max:e.params[3],min:e.params[2],step:1},on:{input:e.setPlanes}})],1)]),n("v-switch",{staticClass:"v-input--reverse",attrs:{label:"Use contours"},on:{change:e.setContours},model:{value:e.contours,callback:function(t){e.contours=t},expression:"contours"}}),n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({},"v-btn",a,!1),i),[n("v-icon",[e._v(" mdi-settings ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Settings ")]),n("v-card-text",[n("v-switch",{attrs:{label:"Theme"},on:{click:function(t){e.$vuetify.theme.dark=!e.$vuetify.theme.dark}}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1),n("v-progress-linear",{attrs:{active:e.busy,indeterminate:e.busy,absolute:"",bottom:"",height:"10",striped:""}},[n("div",{staticStyle:{color:"White","font-size":"8px"}},[e._v(" "+e._s(e.mes)+" ")])])],1)],1),n("v-main",{class:e.$style.appContent},[n("div",{staticStyle:{position:"relative",width:"100%",height:"100%"},on:{click:function(t){e.overlay=!1}}},[n("v-overlay",{attrs:{absolute:e.absolute,opacity:e.opacity,value:e.busy}},[n("v-container",[n("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{active:e.busy,indeterminate:e.busy,size:70,width:7,color:"blue"}},[e._v(" "+e._s(e.mes)+" ")])],1)],1)],1),n("remote-rendering-view",{attrs:{client:e.client}})],1)])],1)},se=[];function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(N["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={name:"App2",components:{RemoteRenderingView:B},meta:{authName:K.authName},data:function(){return{dialog:!1,lfDialog:!1,mes:"Loading",overlay:!0,logo:R.a,ex1:{label:"Threshold",val:3,color:"orange darken-3"},ex2:{label:"Cutting planes",val:1,color:"green lighten-1"},ex3:{label:"Lower bound",val:50,color:"red"},ex4:{label:"Level",val:50,color:"red"},drawer:!0,mini:!0,myImage:n("6ba0"),right:null,rtoken:"",singleSelect:!0,selected:[{url:"FOR_INSTANCE"}],search:"",headers:[{text:"Survey/species",value:"survey"},{text:"Desc",value:"overlap"}],items:[],weatherDataList:[]}},computed:le({},Object(a["c"])({client:"WS_CLIENT",busy:"WS_BUSY",resolution:"CONE_RESOLUTION",planes:"CONE_PLANES",contours:"CONE_CONTOURS",p1:"CONE_P1",p2:"CONE_P2",r1:"CONE_R1",r2:"CONE_R2",dl:"CONE_DL",db:"CONE_DB",out_json:"WS_JSON",params:"WS_PARAMS",toggle_cam:"CONE_CAMERA",rotateX:"CONE_ROTATE",is2D:"CONE_2D",out_files:"WS_JSONFILES",main_session:"WS_MAIN_SESSION"})),methods:le(le({},Object(a["b"])({setResolution:"CONE_RESOLUTION_UPDATE",setPlanes:"CONE_PLANES_UPDATE",setContours:"CONE_CONTOURS_UPDATE",resetCamera:"WS_RESET_CAMERA",connect:"WS_CONNECT",connect_short:"WS_CONNECT_SHORT",loadData:"CONE_XMLFITS_UPDATE",loadDataShort:"WS_FITS_UPDATE",keyLogOut:"WS_LOGOUT",updateToken:"WS_UPDATE_TOKEN",setP1:"CONE_SETP1",setP2:"CONE_SETP2",setR1:"CONE_SETR1",setDl:"CONE_SETDL",setDb:"CONE_SETDB",setCameraView:"CONE_SETCAMERAVIEW",setRotate:"CONE_SETROTATE",set2D:"CONE_SET2D",setFitsUrl:"WS_MAIN_FITSLOADBYURL",updateFitslocal:"WS_UPDATELOCALFITS"})),{},{onSetCamera:function(){},gotoOther:function(e){this.$appName="New value",this.$color="session_id";var t="/vlw2?id="+this.main_session+"&url="+e,n=this.$router.resolve({path:t});window.open(n.href,"_blank")},testFile:function(){if(this.active.length>0){var e=this.active.length-1;console.log("TEST",this.active[e])}},loadFile:function(e){this.lfDialog=!1;var t=e.path+"/"+e.name;console.log(t),this.updateFitslocal(t)},getData:function(){this.mini=!this.mini,this.overlay=!1,this.loadData()},onLoadToken:function(){var e=this.$oidc.accessToken,t=this.$oidc.authName;console.log("Update token timeout"),console.log(t),this.updateToken(e),this.$oidc.resetUpdate()},onLogOut:function(){this.keyLogOut(this.rtoken),this.$oidc.resetUpdate(),this.$oidc.signOut()},checkToken:function(){var e=this.$oidc.needsUpdate;e&&setTimeout(this.onLoadToken,2500)},onButtonClick:function(e){this.mini=!this.mini;var t=parseInt(e.species);console.log(t),t?this.loadDataShort(e.url):this.gotoOther(e.url)},hideDialogAndProceed:function(){this.dialog=!1,this.loadData()}}),mounted:function(){var e=this,t=this.$oidc.accessToken;this.rtoken=this.$oidc.refreshToken,console.log("begin"),this.connect_short(t).then((function(){var t=decodeURIComponent(e.$route.query.url),n=e.$route.query.local;console.log(t),"False"==n?(setTimeout(e.setFitsUrl(t),3e3),console.log("loading fits from url")):setTimeout(e.updateFitslocal(t),3e3),setInterval(e.checkToken,1e3)}))}},de=ue,pe=n("09cf");function fe(e){this["$style"]=pe["default"].locals||pe["default"]}var ve=Object(s["a"])(de,re,se,!1,fe,null,null),he=ve.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("h2",[e._v("ViaLacteaWeb")]),n("p",[e._v("Welcome fellow astronomer! To start using the service please authenticate using your NEANIAS credentials")]),n("a",{attrs:{href:"/vlw"}},[e._v("Go to VLW")])])},me=[],_e=n("dea2"),be={};function Se(e){this["$style"]=_e["default"].locals||_e["default"]}var ye=Object(s["a"])(be,ge,me,!1,Se,null,null),Ae=ye.exports;i["default"].use(O["a"]);var Ee=[{path:"/",name:"Hello",component:Ae},{path:"/vlw",name:"App",meta:{authName:K.authName},component:oe},{path:"/vlw2",name:"App2",meta:{authName:K.authName},component:he},{path:"/main2",name:"VLW2",meta:{authName:K.authName},component:function(){return n.e("about").then(n.bind(null,"b073"))}}],Oe=new O["a"]({mode:"history",base:"/",routes:Ee});K.useRouter(Oe);var we=Oe,Te=(n("d4b8"),n("bf40"),n("5363"),n("558c")),Ne=n.n(Te);i["default"].use(a["a"]),i["default"].use(f),i["default"].use(Ne.a),i["default"].config.devtools=!0,i["default"].config.performance=!0,i["default"].config.performance=!1;var Ce=new i["default"]({data:{$color:"green"}});i["default"].mixin({computed:{$color:{get:function(){return Ce.$data.$color},set:function(e){Ce.$data.$color=e}}}}),i["default"].prototype.$appName="test",K.startup().then((function(e){e?(new i["default"]({vuetify:f,store:E,router:we,render:function(e){return e(u)}}).$mount("#app"),console.log("Startup is set")):console.log("Startup was not ok")})),i["default"].prototype.$store=E},"6ba0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAABuvAAAbrwFeGpEcAAAACXZwQWcAAABAAAAAQADq8/hgAAAGM0lEQVR42u2bTWxdRxmGn/ebmXv9k8RpqNI6VdMABqGqCARSBUgIFqCyZsUqiC1sQEJiAdusYNFN2FaUihVij2DDBqQIhBALVKUSSSNwcOK/2PdeX58z87E45yZ2YsdulOL44Ec6i6N7fuZ75/uZmTMXTjjhhBNOOOGEE/5P0c6Ty1dvARjwPHD6kM+ogbvAAODt77181DY9mQCt8QK+CfzA4cVDPmMs+DPwZoG/2jET4WEBzgO/lvjyVBLSwQ/IBcaVA/wJ+D5wjWMkwsMCfMzhtzM9LXzmUo+ZvuEHPGC7cq4vViyt52MpQtxTFUE/ianEgQJMJ/GplxLucOde/iLwJvAT4Mblq7cO4UP/G9TkqiVg9IsdHbOnAO5QF6cqOlgBYKonPnkh4jh375UvOPwK2OChJHuExuNQ0bTrp5ev3tqaeGfc76ZcnJwPYX1LP4mFFyNSrY2RvyB44agNn1ActmvHnW8BbwM3J7/t7QE0ya0uzqFcoKWXxMJ8pK4Pf8+HjSS2Kufdf9WMK+8/bPPeHuATD/igr3MM6MVnwvNbAZrObMPgkZh8RIDJhbk4uXyQ/n92yWV/K/bJAX4/BPZS7bgwaXvTkb6nHftWgVycOh9X03eT245s2WXU46tAB0JArS37GfKYKuCNcsdcgUkS3I/HeADUhU64wOM8+cAy2AH7Gw94khCou5EDWw/QRI+DBQAoxelIEWhzwN7GPGYyxINR0XFmkgMOCgG1qx/u7g6MtgtmR936p0Mpk0E6LmmXFPrcj66dq+tyts7Z58/NXfrImdm38PLKqBpSvDzZG58xTMZ0mgHZ+ysbg+/8e3n9nzEExWhrsRT/JfAJM7Oltc20ujmaB6hLbv2mA4lAEG0LYL7K+S0zq9wpufj1KPSNFGVnZxPRtCPk01E3+8MgQboooMqFe6P88WjBts7OxOlvf/VCdX6u78Udd6K7h6Nu7dNGUpao3V03l4a931y7sxWD2VpB02sjqn6furjw4lPZ1TkBgqjMNN6uSlxcq1JxrcVgWq4zF95drOo7m2Hs7iru0Z3+UTf4aSORzWw8GI25cXuoKvtyjDGMcFgelJJFbutlWww7kADv40hyiby+mcvyRg2yUUwhrOdSELIQAji4l1aAbiHJZQbIZCKarUdJt4OZS1IKzdK2F5N3ZAywWwCTmSFJrc23YzBbLu5IKEUBopSCe0eGgbsFwExIyMwwaTn2UhxWdS4mrBcFglKk0j0HwAxMwoQFs5JiGMZgWilmtYSliEzyXHR/FaULaXCSzYJJElIjQB1MK1HSkplVgtSLwkzUWYTSvSRoJkxCYGZWSVqKKYZh4/QoRQhBmKRcutD3uwlBqJn4KgYrKdow9lMYFqdCmo5BSlEuROimACqOkBSCVf0UhlHSajAbCZ2NAfWbjRHKWZ2I/wkOxCDqRgELZiNJqxFprTnBgqF+kkCdWQ7bSQiIGkmNAEhrcbYfqyF5LAwz1IuiFGQdFCAGKWeXECnaeKYfqtjvha1x5ZuSZEK9JEqR6tKNEjjBgRRgq8LakeBmvxe2Yi4MJFtrlgSlFEWVBbl7k6EYJGAyGFjLhUFMweoUGbUfRJsL2ou6hUAoF0wyUmSUgtU2dyrmFG1oJnJul069U11/H3fIGTMTKdpw7lTM8fR0rFbulRUzJxfk7nJQB2fDuKM6u4VmIrRyejpWduWdxVrSapCRC+Yg3LvqAZYLoZ0Sr155Z7GOb7x+jqleGFa140juyLuV/R4IgMtdIQXzFDV84/VzxFdf7jE7bRs5ez3bl21Xxaq6qIMRAKCZnsL8cyGHoI1TfRFfu5hwWBaqK3dbHWzHre36+H8TfAgHzKTnT/X00nNpXNyXRSB+9rXIjfeGg9nZ6Xo7M5NiDlX9DO1ze4qYifNnItNReXMwGlxamCF+NEg/vPLzxS995Wt/m5ub+/QZoHtfBB5QbcDd9fW///EPv1/82Y+/K9EsDsy/svDq1+fmzn6+lPq0u4eujQUkXFI2ixvr99b+cvP6P35XSl6cGDkNXAQWaPb4zgKB7lQDBzLNv1r+A7wHvA+MJgaK5mvobHtM7RDguKfD+5tfga1WhAHN7vFHBjzacXQR33GccALwXwSLy/clRf4tAAAAJXRFWHRjcmVhdGUtZGF0ZQAyMDA5LTEyLTA4VDEzOjAyOjExLTA3OjAwS/nD7QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMC0wMS0xMVQwOTozMjozMy0wNzowMGo+/0sAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTAtMDEtMTFUMDk6MzI6MzMtMDc6MDAbY0f3AAAAZ3RFWHRMaWNlbnNlAGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzMuMC8gb3IgaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvTEdQTC8yLjEvW488YwAAACV0RVh0bW9kaWZ5LWRhdGUAMjAwOS0xMi0wOFQxMzowMjoxMS0wNzowMBRItdkAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAE3RFWHRTb3VyY2UAT3h5Z2VuIEljb25z7Biu6AAAACd0RVh0U291cmNlX1VSTABodHRwOi8vd3d3Lm94eWdlbi1pY29ucy5vcmcv7zeqywAAAABJRU5ErkJggg=="},7627:function(e,t,n){e.exports={nav:"style_nav_1qULS",one:"style_one_3ZPpk",two:"style_two_MVwYW",appContent:"style_appContent_3npNh","switch-center":"style_switch-center_3E03Z","v-input--reverse":"style_v-input--reverse_CsIpe","v-input__slot":"style_v-input__slot_2eQci","v-application--is-ltr":"style_v-application--is-ltr_QHG-K","v-input--selection-controls__input":"style_v-input--selection-controls__input_22YXA","v-application--is-rtl":"style_v-application--is-rtl_TNpE0","v-input--expand":"style_v-input--expand_1JaRx","v-label":"style_v-label_2CFdy",logo:"style_logo_3JvB7",slider:"style_slider_282Iv",switch:"style_switch_1N6l1","v-btn-toggle":"style_v-btn-toggle_2AsnX","v-btn":"style_v-btn_3RaEO","v-size--default":"style_v-size--default_3cJ52",danger:"style_danger_2Vco2",success:"style_success_zVwvy",info:"style_info_SBzPj"}},"85ec":function(e,t,n){},9174:function(e,t,n){e.exports={container:"style_container_xgDbF"}},"99fd":function(e,t,n){"use strict";var i=n("9174"),a=n.n(i);n.d(t,"default",(function(){return a.a}))},dea2:function(e,t,n){"use strict";var i=n("2612"),a=n.n(i);n.d(t,"default",(function(){return a.a}))},e8ac:function(e,t,n){e.exports={nav:"style_nav_1sIRN",one:"style_one__r7pI",two:"style_two_3dwmA",appContent:"style_appContent_33Jlx","switch-center":"style_switch-center_3b1im","v-input--reverse":"style_v-input--reverse_1Fs19","v-input__slot":"style_v-input__slot_2BA_C","v-application--is-ltr":"style_v-application--is-ltr_1K4TM","v-input--selection-controls__input":"style_v-input--selection-controls__input_25eUN","v-application--is-rtl":"style_v-application--is-rtl_17ULN","v-input--expand":"style_v-input--expand_2tDE3","v-label":"style_v-label_1tVsu",logo:"style_logo_1JmA-",slider:"style_slider_2zFL6",switch:"style_switch_18_4H","v-btn-toggle":"style_v-btn-toggle_1Fbzf","v-btn":"style_v-btn_OzPQR","v-size--default":"style_v-size--default_4HvOZ",danger:"style_danger_2g3ex",success:"style_success_1Mwlf",info:"style_info_e4VJA"}}});
//# sourceMappingURL=app.fcca218a.js.map